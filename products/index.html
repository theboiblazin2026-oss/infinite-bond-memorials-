<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/assets/images/logo-red.png">
    <meta name="description"
        content="Browse our complete collection of personalized memorial products. Photo blankets, t-shirts, keepsakes, and gift sets to honor your loved ones.">
    <title>All Products | Infinite Bond Memorial Products</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://app.snipcart.com">
    <link rel="preconnect" href="https://cdn.snipcart.com">
    <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.7.3/default/snipcart.css" />
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="../css/style.css">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SP8J7HT01B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-SP8J7HT01B');
    </script>
    <style>
        .page-hero {
            padding: calc(var(--header-height) + var(--space-4xl)) 0 var(--space-3xl);
            background: linear-gradient(135deg, var(--color-cream) 0%, var(--color-cream-dark) 100%);
            text-align: center;
        }

        .page-hero__title {
            margin-bottom: var(--space-md);
        }

        .page-hero__breadcrumb {
            display: flex;
            justify-content: center;
            gap: var(--space-sm);
            font-size: var(--text-sm);
            color: var(--color-gray);
            margin-bottom: var(--space-lg);
        }

        .page-hero__breadcrumb a:hover {
            color: var(--color-primary);
        }

        .products-section {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: var(--space-2xl);
        }

        .filters {
            position: sticky;
            top: calc(var(--header-height) + var(--space-lg));
            height: fit-content;
        }

        .filters__group {
            background: var(--color-white);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
            box-shadow: var(--shadow-sm);
        }

        .filters__title {
            font-size: var(--text-sm);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-charcoal);
            margin-bottom: var(--space-md);
            padding-bottom: var(--space-sm);
            border-bottom: 2px solid var(--color-cream-dark);
        }

        .filters__list {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .filters__item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .filters__checkbox {
            width: 18px;
            height: 18px;
            accent-color: var(--color-primary);
        }

        .filters__label {
            font-size: var(--text-sm);
            color: var(--color-gray);
            cursor: pointer;
        }

        .filters__count {
            margin-left: auto;
            font-size: var(--text-xs);
            color: var(--color-gray-light);
        }

        .products-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-xl);
        }

        .products-count {
            font-size: var(--text-sm);
            color: var(--color-gray);
        }

        .products-sort {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .products-sort label {
            font-size: var(--text-sm);
            color: var(--color-gray);
        }

        .products-sort select {
            padding: var(--space-sm) var(--space-md);
            border: 2px solid var(--color-cream-dark);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            background: var(--color-white);
            cursor: pointer;
        }

        @media (max-width: 1024px) {
            .products-section {
                grid-template-columns: 1fr;
            }

            .filters {
                position: relative;
                top: 0;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="container header__inner">
            <a href="/" class="logo">
                <img src="../assets/images/logo-red.png" alt="Infinite Bond Logo" class="logo__icon">
                <span class="logo__text">Infinite Bond <span>Memorials</span></span>
            </a>

            <nav class="nav">
                <ul class="nav__list" id="navList">
                    <li><a href="/" class="nav__link">Home</a></li>
                    <li><a href="/products/" class="nav__link nav__link--active">Products</a></li>
                    <li><a href="/products/gift-sets.html" class="nav__link">Gift Sets</a></li>
                    <li><a href="/for-funeral-homes/" class="nav__link">For Funeral Homes</a></li>
                    <li><a href="/about.html" class="nav__link">About</a></li>
                    <li><a href="/contact.html" class="nav__link">Contact</a></li>
                    <!-- Cart button for mobile -->
                    <li class="snipcart-checkout nav__link nav__link--cart">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                        <span class="snipcart-items-count">0</span>
                    </li>
                </ul>

                <a href="../personalize/" class="btn btn--primary">Personalize Now</a>

                <!-- Desktop Cart -->
                <button class="snipcart-checkout btn-cart" aria-label="Cart">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    <span class="snipcart-items-count">0</span>
                </button>

                <button class="nav__toggle" id="navToggle" aria-label="Toggle navigation">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </nav>
        </div>
    </header>

    <main>
        <!-- Page Hero -->
        <section class="page-hero">
            <div class="container">
                <nav class="page-hero__breadcrumb">
                    <a href="../">Home</a>
                    <span>/</span>
                    <span>All Products</span>
                </nav>
                <h1 class="page-hero__title">Memorial Products</h1>
                <p>Personalized keepsakes to honor and remember those you love</p>
            </div>
        </section>

        <!-- Products -->
        <section class="section">
            <div class="container">
                <div class="products-section">
                    <!-- Filters Sidebar -->
                    <aside class="filters">
                        <div class="filters__group">
                            <h3 class="filters__title">Categories</h3>
                            <ul class="filters__list">
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="cat-all" checked>
                                    <label class="filters__label" for="cat-all">All Products</label>
                                </li>
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="cat-home">
                                    <label class="filters__label" for="cat-home">Home Comfort</label>
                                    <span class="filters__count">12</span>
                                </li>
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="cat-wear">
                                    <label class="filters__label" for="cat-wear">Wearables</label>
                                    <span class="filters__count">8</span>
                                </li>
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="cat-keep">
                                    <label class="filters__label" for="cat-keep">Keepsakes</label>
                                    <span class="filters__count">15</span>
                                </li>
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="cat-drink">
                                    <label class="filters__label" for="cat-drink">Drinkware</label>
                                    <span class="filters__count">6</span>
                                </li>
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="cat-stat">
                                    <label class="filters__label" for="cat-stat">Stationery</label>
                                    <span class="filters__count">10</span>
                                </li>
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="cat-gift">
                                    <label class="filters__label" for="cat-gift">Gift Sets</label>
                                    <span class="filters__count">5</span>
                                </li>
                            </ul>
                        </div>

                        <div class="filters__group">
                            <h3 class="filters__title">Price Range</h3>
                            <ul class="filters__list">
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="price-1">
                                    <label class="filters__label" for="price-1">Under $25</label>
                                    <span class="filters__count">18</span>
                                </li>
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="price-2">
                                    <label class="filters__label" for="price-2">$25 - $50</label>
                                    <span class="filters__count">22</span>
                                </li>
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="price-3">
                                    <label class="filters__label" for="price-3">$50 - $100</label>
                                    <span class="filters__count">15</span>
                                </li>
                                <li class="filters__item">
                                    <input type="checkbox" class="filters__checkbox" id="price-4">
                                    <label class="filters__label" for="price-4">$100+</label>
                                    <span class="filters__count">8</span>
                                </li>
                            </ul>
                        </div>
                    </aside>

                    <!-- Products Grid -->
                    <div class="products-main">
                        <div class="products-header">
                            <p class="products-count">Showing 56 products</p>
                            <div class="products-sort">
                                <label for="sort">Sort by:</label>
                                <select id="sort">
                                    <option value="featured">Featured</option>
                                    <option value="newest">Newest</option>
                                    <option value="price-low">Price: Low to High</option>
                                    <option value="price-high">Price: High to Low</option>
                                    <option value="popular">Most Popular</option>
                                </select>
                            </div>
                        </div>

                        <div class="products-grid">
                            <article class="card">
                                <div class="card__image">
                                    <img src="../assets/images/memorial_blanket_1767761174045.png"
                                        alt="Custom Photo Memorial Blanket">
                                    <span class="card__badge">Bestseller</span>
                                </div>
                                <div class="card__body">
                                    <p class="card__category">Home Comfort</p>
                                    <h3 class="card__title">Custom Photo Memorial Blanket</h3>
                                    <p class="card__description">Soft, premium fleece blanket personalized with your
                                        cherished photo.</p>
                                    <p class="card__price">$64.99</p>
                                    <p class="delivery-estimate delivery-estimate--fast">âš¡ FAST: Ships in 24 Hours</p>
                                    <p class="tax-disclaimer">*Sales
                                        tax calculated at checkout</p>
                                    <a href="../personalize/?product=photo-blanket" class="btn btn--secondary">
                                        Personalize & Add to Cart
                                    </a>
                                </div>
                            </article>

                            <article class="card">
                                <div class="card__image">
                                    <img src="../assets/images/diverse_tshirt_1767762157367.png"
                                        alt="In Loving Memory T-Shirt">
                                </div>
                                <div class="card__body">
                                    <p class="card__category">Wearables</p>
                                    <h3 class="card__title">In Loving Memory T-Shirt</h3>
                                    <p class="card__description">Premium memorial shirt with elegant angel wings design.
                                    </p>
                                    <p class="card__price">$29.99</p>
                                    <p class="delivery-estimate delivery-estimate--fast">âš¡ FAST: Ships in 48 Hours</p>
                                    <p class="tax-disclaimer">*Sales tax calculated at checkout</p>
                                    <a href="../personalize/?product=memorial-tshirt" class="btn btn--secondary">
                                        Personalize & Select Size
                                    </a>
                                </div>
                            </article>

                            <article class="card">
                                <div class="card__image">
                                    <img src="../assets/images/memorial_candle_1767761203396.png"
                                        alt="Personalized Memorial Candle">
                                    <span class="card__badge">New</span>
                                </div>
                                <div class="card__body">
                                    <p class="card__category">Keepsakes</p>
                                    <h3 class="card__title">Personalized Memorial Candle</h3>
                                    <p class="card__description">Beautiful soy wax candle with custom photo and text.
                                    </p>
                                    <p class="card__price">$34.99</p>
                                    <p class="delivery-estimate delivery-estimate--standard">ðŸšš Est. Delivery: 3-5 Days
                                    </p>
                                    <p class="tax-disclaimer">*Sales tax calculated at checkout</p>
                                    <a href="../personalize/?product=memorial-candle" class="btn btn--secondary">
                                        Personalize & Add to Cart
                                    </a>
                                </div>
                            </article>

                            <article class="card">
                                <div class="card__image">
                                    <img src="../assets/images/diverse_ornament_1767762188044.png"
                                        alt="Angel Wings Photo Ornament">
                                </div>
                                <div class="card__body">
                                    <p class="card__category">Keepsakes</p>
                                    <h3 class="card__title">Angel Wings Photo Ornament</h3>
                                    <p class="card__description">Elegant crystal ornament with angel wings design.</p>
                                    <p class="card__price">$24.99</p>
                                    <p class="delivery-estimate delivery-estimate--standard">ðŸšš Est. Delivery: 3-5 Days
                                    </p>
                                    <p class="tax-disclaimer">*Sales tax calculated at checkout</p>
                                    <a href="../personalize/?product=photo-ornament" class="btn btn--secondary">
                                        Personalize & Add to Cart
                                    </a>
                                </div>
                            </article>

                            <article class="card">
                                <div class="card__image">
                                    <img src="../assets/images/diverse_mug_1767762203779.png"
                                        alt="Forever in Our Hearts Mug">
                                </div>
                                <div class="card__body">
                                    <p class="card__category">Drinkware</p>
                                    <h3 class="card__title">Forever in Our Hearts Mug</h3>
                                    <p class="card__description">Premium ceramic mug with custom photo.</p>
                                    <p class="card__price">$19.99</p>
                                    <p class="delivery-estimate delivery-estimate--standard">ðŸšš Est. Delivery: 3-5 Days
                                    </p>
                                    <p class="tax-disclaimer">*Sales tax calculated at checkout</p>
                                    <a href="../personalize/?product=photo-mug" class="btn btn--secondary">
                                        Personalize & Add to Cart
                                    </a>
                                </div>
                            </article>

                            <article class="card">
                                <div class="card__image">
                                    <img src="../assets/images/memorial_gift_set_1767761231998.png"
                                        alt="Comfort Package Gift Set">
                                    <span class="card__badge">Save 30%</span>
                                </div>
                                <div class="card__body">
                                    <p class="card__category">Gift Sets</p>
                                    <h3 class="card__title">Comfort Package Gift Set</h3>
                                    <p class="card__description">Complete memorial bundle with blanket, candle, mug.</p>
                                    <p class="card__price">$99.99 <span>$129.99</span></p>
                                    <p class="delivery-estimate delivery-estimate--fast">âš¡ Priority Shipping Included
                                    </p>
                                    <p class="tax-disclaimer">*Sales
                                        tax calculated at checkout</p>
                                    <a href="../personalize/?product=gift-set-bundle" class="btn btn--secondary">
                                        Personalize & Add to Cart
                                    </a>
                                </div>
                            </article>

                            <!-- NEW: Keepsake Pillow -->
                            <article class="card">
                                <div class="card__image">
                                    <img src="../assets/images/keepsake_pillow.png"
                                        alt="In Loving Memory Keepsake Pillow">
                                    <span class="card__badge">New</span>
                                </div>
                                <div class="card__body">
                                    <p class="card__category">Home Comfort</p>
                                    <h3 class="card__title">In Loving Memory Keepsake Pillow</h3>
                                    <p class="card__description">Soft 18x18" pillow with hidden pocket for keepsakes and
                                        custom photo.</p>
                                    <p class="card__price">$49.99</p>
                                    <p class="delivery-estimate delivery-estimate--fast">âš¡ FAST: Ships in 24 Hours</p>
                                    <p class="tax-disclaimer">*Sales tax calculated at checkout</p>
                                    <a href="../personalize/?product=keepsake-pillow" class="btn btn--secondary">
                                        Personalize & Add to Cart
                                    </a>
                                </div>
                            </article>

                            <!-- NEW: Framed Canvas Portrait -->
                            <article class="card">
                                <div class="card__image">
                                    <img src="../assets/images/framed_portrait.png"
                                        alt="Forever in Our Hearts Framed Portrait">
                                    <span class="card__badge">New</span>
                                </div>
                                <div class="card__body">
                                    <p class="card__category">Keepsakes</p>
                                    <h3 class="card__title">Forever in Our Hearts Framed Portrait</h3>
                                    <p class="card__description">Elegant walnut-framed canvas portrait with custom photo
                                        and text.</p>
                                    <p class="card__price">$59.99</p>
                                    <p class="delivery-estimate delivery-estimate--fast">âš¡ FAST: Ships in 24 Hours</p>
                                    <p class="tax-disclaimer">*Sales tax calculated at checkout</p>
                                    <a href="../personalize/?product=framed-portrait" class="btn btn--secondary">
                                        Personalize & Add to Cart
                                    </a>
                                </div>
                            </article>

                            <!-- NEW: Premium Woven Blanket -->
                            <article class="card">
                                <div class="card__image">
                                    <img src="../assets/images/premium_woven_blanket.png"
                                        alt="Always In Our Hearts Premium Woven Blanket">
                                    <span class="card__badge">Premium</span>
                                </div>
                                <div class="card__body">
                                    <p class="card__category">Home Comfort</p>
                                    <h3 class="card__title">Always In Our Hearts Premium Woven Blanket</h3>
                                    <p class="card__description">100% cotton woven blanket (6ft x 4ft) with intricate
                                        design and photo.</p>
                                    <p class="card__price">$79.99</p>
                                    <p class="delivery-estimate delivery-estimate--fast">
                                        âš¡ FAST: Ships in 24 Hours</p>
                                    <p class="tax-disclaimer">*Sales tax calculated at checkout</p>
                                    <a href="../personalize/?product=premium-woven-blanket" class="btn btn--secondary">
                                        Personalize & Add to Cart
                                    </a>
                                </div>
                            </article>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__grid">
                <div class="footer__brand">
                    <a href="../" class="logo">
                        <img src="../assets/images/logo-red.png" alt="Infinite Bond Logo" class="logo__icon">
                        <span class="logo__text">Infinite Bond <span>Memorials</span></span>
                    </a>
                    <p>Creating meaningful memorial products that help families honor and remember their loved ones.</p>
                </div>

                <div class="footer__column">
                    <h5>Products</h5>
                    <ul>
                        <li><a href="index.html">All Products</a></li>
                        <li><a href="pet-memorials.html">Pet Memorials</a></li>
                        <li><a href="gift-sets.html">Gift Sets</a></li>
                        <li><a href="specialty-memorials.html">Specialty Items</a></li>
                    </ul>
                </div>

                <div class="footer__column">
                    <h5>Company</h5>
                    <ul>
                        <li><a href="../about.html">About Us</a></li>
                        <li><a href="../for-funeral-homes/">For Funeral Homes</a></li>
                        <li><a href="../contact.html">Contact</a></li>
                        <li><a href="../policies.html">Store Policies</a></li>
                    </ul>
                </div>

                <div class="footer__column">
                    <h5>Support</h5>
                    <ul>
                        <li><a href="../track-order.html">Track Order</a></li>
                        <li><a href="../policies.html#shipping">Shipping Info</a></li>
                        <li><a href="../policies.html#returns">Returns</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer__bottom">
                <p class="footer__copyright">Â© 2026 Infinite Bond. All rights reserved.</p>
                <div class="footer__trust">
                    <span class="footer__secure-badge">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                        Secure SSL Encryption
                    </span>
                    <span class="footer__payment-methods">
                        <svg class="footer__payment-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="2" y="5" width="20" height="14" rx="2" />
                            <line x1="2" y1="10" x2="22" y2="10" />
                        </svg>
                        Secure Payments
                    </span>
                </div>
            </div>
        </div>
    </footer>

    <script src="../js/config.js"></script>
    <script src="../js/main.js"></script>

    <!-- Snipcart Official Loader -->
    <div id="snipcart" data-api-key="ab6bbb28-ea9b-4190-b75c-5d7cc7065651" data-config-modal-style="side" hidden>
    </div>
    <script src="https://cdn.snipcart.com/themes/v3.7.3/default/snipcart.js" async></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const products = document.querySelectorAll('.products-grid .card');
            const categoryCheckboxes = document.querySelectorAll('[id^="cat-"]');
            const priceCheckboxes = document.querySelectorAll('[id^="price-"]');
            const sortSelect = document.getElementById('sort');
            const productsCount = document.querySelector('.products-count');

            // Category mapping
            const categoryMap = {
                'cat-all': 'all',
                'cat-home': 'Home Comfort',
                'cat-wear': 'Wearables',
                'cat-keep': 'Keepsakes',
                'cat-drink': 'Drinkware',
                'cat-stat': 'Stationery',
                'cat-gift': 'Gift Sets'
            };

            // Price range mapping
            const priceRanges = {
                'price-1': { min: 0, max: 25 },
                'price-2': { min: 25, max: 50 },
                'price-3': { min: 50, max: 100 },
                'price-4': { min: 100, max: Infinity }
            };

            // Get product data
            function getProductData(card) {
                const category = card.querySelector('.card__category')?.textContent.trim() || '';
                const priceText = card.querySelector('.card__price')?.textContent || '0';
                const price = parseFloat(priceText.replace(/[^0-9.]/g, '')) || 0;
                const title = card.querySelector('.card__title')?.textContent || '';
                const badge = card.querySelector('.card__badge')?.textContent || '';
                return { card, category, price, title, badge };
            }

            // Filter products
            function filterProducts() {
                const productData = Array.from(products).map(getProductData);

                // Get selected categories
                const allChecked = document.getElementById('cat-all').checked;
                const selectedCategories = [];
                categoryCheckboxes.forEach(cb => {
                    if (cb.checked && cb.id !== 'cat-all') {
                        selectedCategories.push(categoryMap[cb.id]);
                    }
                });

                // Get selected price ranges
                const selectedPrices = [];
                priceCheckboxes.forEach(cb => {
                    if (cb.checked) {
                        selectedPrices.push(priceRanges[cb.id]);
                    }
                });

                // Filter
                let visibleCount = 0;
                productData.forEach(({ card, category, price }) => {
                    let categoryMatch = allChecked || selectedCategories.length === 0 || selectedCategories.includes(category);
                    let priceMatch = selectedPrices.length === 0 || selectedPrices.some(range => price >= range.min && price < range.max);

                    if (categoryMatch && priceMatch) {
                        card.style.display = '';
                        visibleCount++;
                    } else {
                        card.style.display = 'none';
                    }
                });

                // Update count
                productsCount.textContent = `Showing ${visibleCount} product${visibleCount !== 1 ? 's' : ''}`;

                // Sort visible products
                sortProducts();
            }

            // Sort products
            function sortProducts() {
                const grid = document.querySelector('.products-grid');
                const productData = Array.from(products)
                    .filter(card => card.style.display !== 'none')
                    .map(getProductData);

                const sortValue = sortSelect.value;

                productData.sort((a, b) => {
                    switch (sortValue) {
                        case 'price-low':
                            return a.price - b.price;
                        case 'price-high':
                            return b.price - a.price;
                        case 'newest':
                            // Prioritize 'New' badge
                            if (a.badge === 'New' && b.badge !== 'New') return -1;
                            if (b.badge === 'New' && a.badge !== 'New') return 1;
                            return 0;
                        case 'popular':
                            // Prioritize 'Bestseller' badge
                            if (a.badge === 'Bestseller' && b.badge !== 'Bestseller') return -1;
                            if (b.badge === 'Bestseller' && a.badge !== 'Bestseller') return 1;
                            return 0;
                        case 'featured':
                        default:
                            // Keep original order for featured
                            return 0;
                    }
                });

                // Reorder in DOM
                productData.forEach(({ card }) => {
                    grid.appendChild(card);
                });
            }

            // Handle "All Products" checkbox
            document.getElementById('cat-all').addEventListener('change', function () {
                if (this.checked) {
                    categoryCheckboxes.forEach(cb => {
                        if (cb.id !== 'cat-all') {
                            cb.checked = false;
                        }
                    });
                }
                filterProducts();
            });

            // Handle category checkboxes
            categoryCheckboxes.forEach(cb => {
                if (cb.id !== 'cat-all') {
                    cb.addEventListener('change', function () {
                        if (this.checked) {
                            document.getElementById('cat-all').checked = false;
                        }
                        // If all unchecked, check "All Products"
                        const anySelected = Array.from(categoryCheckboxes).some(c => c.checked && c.id !== 'cat-all');
                        if (!anySelected) {
                            document.getElementById('cat-all').checked = true;
                        }
                        filterProducts();
                    });
                }
            });

            // Handle price checkboxes
            priceCheckboxes.forEach(cb => {
                cb.addEventListener('change', filterProducts);
            });

            // Handle sort
            sortSelect.addEventListener('change', sortProducts);

            // Initial count update
            productsCount.textContent = `Showing ${products.length} products`;
        });
    </script>
</body>

</html>